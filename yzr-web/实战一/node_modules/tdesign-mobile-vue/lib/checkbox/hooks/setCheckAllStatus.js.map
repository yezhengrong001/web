{"version":3,"file":"setCheckAllStatus.js","sources":["../../../src/checkbox/hooks/setCheckAllStatus.ts"],"sourcesContent":["// 计算全选按钮的状态\nimport { computed, ref, ComputedRef, Ref } from 'vue';\nimport intersection from 'lodash/intersection';\n\nexport const setCheckAllStatus = (optionList: Ref<any[]>, innerValue: Ref, checkedSet: ComputedRef) => {\n  const { isArray } = Array;\n  const intersectionLen = computed(() => {\n    const values = optionList.value?.map((item) => item.value);\n    if (isArray(innerValue.value)) {\n      return intersection(innerValue.value, values).length;\n    }\n    return 0;\n  });\n\n  const isAllChecked = computed(() => {\n    if (checkedSet.value.size !== optionList.value.length - 1) {\n      return false;\n    }\n    return intersectionLen.value === optionList.value.length - 1;\n  });\n\n  const indeterminate = computed(() => {\n    return !isAllChecked.value && intersectionLen.value < optionList.value.length && intersectionLen.value > 0;\n  });\n\n  return computed(() => {\n    if (isAllChecked.value) return 'checked';\n    if (indeterminate.value) return 'indeterminate';\n    return 'uncheck';\n  });\n};\n"],"names":["setCheckAllStatus","optionList","innerValue","checkedSet","isArray","Array","intersectionLen","computed","values","value","map","item","intersection","length","isAllChecked","size","indeterminate"],"mappings":";;;;;;;;;;;;;;;;;AAIO,IAAMA,iBAAoB,GAAA,SAApBA,iBAAoB,CAACC,UAAwB,EAAAC,UAAA,EAAiBC,UAA4B,EAAA;AAC/F,EAAA,IAAEC,UAAYC,KAAA,CAAZD;AACF,EAAA,IAAAE,eAAA,GAAkBC,aAAS,YAAM;AAAA,IAAA,IAAA,iBAAA,CAAA;IACrC,IAAMC,SAASP,CAAAA,iBAAAA,GAAAA,UAAW,CAAAQ,KAAA,sDAAX,iBAAkBC,CAAAA,IAAI,UAACC,IAAA,EAAA;MAAA,OAASA,KAAKF,KAAK,CAAA;KAAA,CAAA,CAAA;AACrD,IAAA,IAAAL,OAAA,CAAQF,UAAW,CAAAO,KAAK,CAAG,EAAA;MAC7B,OAAOG,gCAAa,CAAAV,UAAA,CAAWO,KAAO,EAAAD,MAAM,CAAE,CAAAK,MAAA,CAAA;AAChD,KAAA;AACO,IAAA,OAAA,CAAA,CAAA;AACT,GAAC,CAAA,CAAA;AAEK,EAAA,IAAAC,YAAA,GAAeP,aAAS,YAAM;AAClC,IAAA,IAAIJ,WAAWM,KAAM,CAAAM,IAAA,KAASd,UAAW,CAAAQ,KAAA,CAAMI,SAAS,CAAG,EAAA;AAClD,MAAA,OAAA,KAAA,CAAA;AACT,KAAA;IACA,OAAOP,eAAgB,CAAAG,KAAA,KAAUR,UAAW,CAAAQ,KAAA,CAAMI,MAAS,GAAA,CAAA,CAAA;AAC7D,GAAC,CAAA,CAAA;AAEK,EAAA,IAAAG,aAAA,GAAgBT,aAAS,YAAM;AAC5B,IAAA,OAAA,CAACO,aAAaL,KAAS,IAAAH,eAAA,CAAgBG,QAAQR,UAAW,CAAAQ,KAAA,CAAMI,MAAU,IAAAP,eAAA,CAAgBG,KAAQ,GAAA,CAAA,CAAA;AAC3G,GAAC,CAAA,CAAA;EAED,OAAOF,aAAS,YAAM;AACpB,IAAA,IAAIO,YAAa,CAAAL,KAAA,EAAc,OAAA,SAAA,CAAA;AAC/B,IAAA,IAAIO,aAAc,CAAAP,KAAA,EAAc,OAAA,eAAA,CAAA;AACzB,IAAA,OAAA,SAAA,CAAA;AACT,GAAC,CAAA,CAAA;AACH;;;;"}