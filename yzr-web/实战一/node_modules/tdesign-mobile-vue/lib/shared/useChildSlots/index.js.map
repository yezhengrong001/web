{"version":3,"file":"index.js","sources":["../../../src/shared/useChildSlots/index.ts"],"sourcesContent":["import { VNode, isVNode, VNodeNormalizedChildren, getCurrentInstance } from 'vue';\n\n/**\n * 获取子组件VNode。处理多种子组件创建场景\n * 使用场景：<t-steps> <t-steps-item /> </t-steps>, <t-steps> <t-steps-item v-for=\"(item, index)\" :key=\"index\" /> </t-steps>\n * @param childInSlots\n * @returns\n */\nexport function useChildSlots(childComponentName: string, childInSlots?: VNodeNormalizedChildren) {\n  const recurChildren = (children?: VNodeNormalizedChildren) => {\n    const result: VNode[] = [];\n    if (Array.isArray(children)) {\n      children.forEach((child) => {\n        if (isVNode(child)) {\n          result.push(child);\n\n          if (child.component?.subTree) {\n            result.push(child.component.subTree);\n            result.push(...recurChildren(child.component.subTree.children));\n          }\n\n          if (child.children) {\n            result.push(...recurChildren(child.children));\n          }\n        }\n      });\n    }\n    return result;\n  };\n  const targetChildren: VNode[] = [];\n  if (childInSlots !== undefined) {\n    targetChildren.push(...recurChildren(childInSlots));\n  } else {\n    targetChildren.push(...recurChildren(getCurrentInstance()?.subTree.children));\n  }\n  // @ts-ignore\n  return targetChildren.filter((child) => child.type?.name === childComponentName);\n}\n"],"names":["useChildSlots","childComponentName","childInSlots","recurChildren","children","result","Array","isArray","forEach","child","isVNode","push","component","subTree","_toConsumableArray","targetChildren","getCurrentInstance","filter","type","name"],"mappings":";;;;;;;;;;;;;;;;;AAQgB,SAAAA,aAAA,CAAcC,oBAA4BC,YAAwC,EAAA;AAC1F,EAAA,IAAAC,aAAA,GAAgB,SAAhBA,aAAA,CAAiBC,QAAuC,EAAA;IAC5D,IAAMC,SAAkB,EAAC,CAAA;AACrB,IAAA,IAAAC,KAAA,CAAMC,OAAQ,CAAAH,QAAQ,CAAG,EAAA;AAClBA,MAAAA,QAAA,CAAAI,OAAA,CAAQ,UAACC,KAAU,EAAA;AACtB,QAAA,IAAAC,WAAA,CAAQD,KAAK,CAAG,EAAA;AAAA,UAAA,IAAA,gBAAA,CAAA;AAClBJ,UAAAA,MAAA,CAAOM,KAAKF,KAAK,CAAA,CAAA;AAEb,UAAA,IAAA,CAAA,gBAAA,GAAAA,KAAA,CAAMG,eAAN,IAAA,IAAA,gBAAA,KAAA,KAAA,CAAA,IAAA,gBAAA,CAAiBC,OAAS,EAAA;YACrBR,MAAA,CAAAM,IAAA,CAAKF,KAAM,CAAAG,SAAA,CAAUC,OAAO,CAAA,CAAA;AACnCR,YAAAA,MAAA,CAAOM,KAAPN,KAAAA,CAAAA,MAAA,yCAAeF,aAAA,CAAcM,MAAMG,SAAU,CAAAC,OAAA,CAAQT,QAAQ,CAAC,CAAA,CAAA,CAAA;AAChE,WAAA;UAEA,IAAIK,MAAML,QAAU,EAAA;YAClBC,MAAA,CAAOM,IAAK,CAAA,KAAA,CAAZN,MAAA,EAAAS,sCAAA,CAAeX,aAAc,CAAAM,KAAA,CAAML,QAAQ,CAAC,CAAA,CAAA,CAAA;AAC9C,WAAA;AACF,SAAA;AACF,OAAC,CAAA,CAAA;AACH,KAAA;AACO,IAAA,OAAAC,MAAA,CAAA;GACT,CAAA;EACA,IAAMU,iBAA0B,EAAC,CAAA;AACjC,EAAA,IAAIb,iBAAiB,KAAW,CAAA,EAAA;IAC9Ba,cAAA,CAAeJ,IAAK,CAApBI,KAAAA,CAAAA,cAAA,yCAAuBZ,aAAc,CAAAD,YAAY,CAAC,CAAA,CAAA,CAAA;AACpD,GAAO,MAAA;AAAA,IAAA,IAAA,mBAAA,CAAA;AACLa,IAAAA,cAAA,CAAeJ,KAAfI,KAAAA,CAAAA,cAAA,yCAAuBZ,aAAA,CAAA,CAAA,mBAAA,GAAca,wBAAsB,wDAAtB,mBAAsBH,CAAAA,OAAA,CAAQT,QAAQ,CAAC,CAAA,CAAA,CAAA;AAC9E,GAAA;AAEA,EAAA,OAAOW,eAAeE,MAAO,CAAA,UAACR;;WAAU,CAAA,CAAA,WAAA,GAAAA,KAAM,CAAAS,IAAA,gDAAN,WAAYC,CAAAA,UAASlB,kBAAkB,CAAA;GAAA,CAAA,CAAA;AACjF;;;;"}