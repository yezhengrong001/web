{"version":3,"file":"notice-bar.js","sources":["../../src/notice-bar/notice-bar.vue","../../src/notice-bar/notice-bar.vue?vue&type=template&id=3f963abb&lang.js"],"sourcesContent":["<template>\n  <div v-if=\"isShow\" :class=\"rootClasses\">\n    <div :class=\"`${name}__inner`\">\n      <div v-if=\"computedPrefixIcon\" :class=\"`${name}__hd`\" @click=\"() => handleClick('prefix-icon')\">\n        <t-node :content=\"computedPrefixIcon\"></t-node>\n      </div>\n\n      <div :class=\"`${name}__bd`\">\n        <div ref=\"listDOM\" :class=\"`${name}__list ${scroll.marquee ? `${name}__list--scrolling` : ''}`\">\n          <div\n            ref=\"itemDOM\"\n            :class=\"`${name}__item ${showExtraText ? `${name}__item-detail` : ''}`\"\n            :style=\"scroll.marquee ? animateStyle : ''\"\n            @transitionend=\"handleTransitionend()\"\n          >\n            <span :class=\"`${name}__text`\" @click=\"() => handleClick('content')\">\n              <t-node v-if=\"showContent\" :content=\"showContent\"></t-node>\n              {{ content }}\n              <span :class=\"`${name}__text-detail`\" @click.stop=\"() => handleClick('extra')\">\n                <t-node v-if=\"showExtraText\" :content=\"showExtraText\"></t-node>\n                {{ extra }}\n              </span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"computedSuffixIcon !== undefined\" :class=\"`${name}__ft`\" @click=\"() => handleClick('suffix-icon')\">\n        <t-node :content=\"computedSuffixIcon\"></t-node>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  reactive,\n  ref,\n  toRefs,\n  SetupContext,\n  computed,\n  onMounted,\n  nextTick,\n  defineComponent,\n  h,\n  getCurrentInstance,\n  watch,\n  watchEffect,\n} from 'vue';\nimport { InfoCircleFilledIcon, CheckCircleFilledIcon, CloseCircleFilledIcon } from 'tdesign-icons-vue-next';\nimport NoticeBarProps from './props';\nimport { NoticeBarTrigger, DrawMarquee } from './type';\n\nimport config from '../config';\nimport { useEmitEvent, renderTNode, TNode, useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-notice-bar`;\nconst iconDefault = {\n  info: h(InfoCircleFilledIcon),\n  success: h(CheckCircleFilledIcon),\n  warning: h(InfoCircleFilledIcon),\n  error: h(CloseCircleFilledIcon),\n};\nexport default defineComponent({\n  name,\n  components: { TNode },\n  props: NoticeBarProps,\n  emits: ['click', 'change'],\n  setup(props, context: SetupContext) {\n    const emitEvent = useEmitEvent(props, context.emit);\n    const internalInstance = getCurrentInstance();\n    // 初始化数据\n    const state = reactive({\n      duration: 0,\n      offset: 0,\n      listWidth: 0,\n      itemWidth: 0,\n      timer: null,\n      nextTimer: null,\n      scroll: {\n        marquee: false,\n        speed: 50,\n        loop: -1, // 值为 -1 表示循环播放，值为 0 表示不循环播放\n        delay: 0,\n      },\n    });\n\n    const rootClasses = computed(() => [`${name}`, `${name}--${props.theme}`]);\n\n    const computedPrefixIcon = ref();\n    watchEffect(() => {\n      if (!props.prefixIcon && !context.slots.prefixIcon) {\n        const key = props.theme as string;\n        computedPrefixIcon.value = iconDefault?.[key] || '';\n      } else {\n        computedPrefixIcon.value = renderTNode(internalInstance, 'prefixIcon');\n      }\n    });\n\n    // suffix-icon\n    const computedSuffixIcon = computed(() => renderTNode(internalInstance, 'suffixIcon'));\n    // extra\n    const showExtraText = computed(() => renderTNode(internalInstance, 'extra'));\n    const showContent = computed(() => renderTNode(internalInstance, 'content'));\n    // click\n    function handleClick(trigger: NoticeBarTrigger) {\n      emitEvent('click', trigger);\n    }\n    // 动画 i\n    const animateStyle = computed(() => ({\n      transform: state.offset ? `translateX(${state.offset}px)` : '',\n      transitionDuration: `${state.duration}s`,\n      transitionTimingFunction: 'linear',\n    }));\n\n    const listDOM = ref();\n    const itemDOM = ref();\n\n    const { visible, modelValue } = toRefs(props);\n    const [isShow, setStatusValue] = useVModel(\n      visible,\n      modelValue,\n      props.defaultVisible,\n      props.onChange as (value: boolean | undefined) => void,\n    );\n    function handleScrolling() {\n      if (!props?.marquee || (props?.marquee as DrawMarquee)?.loop === 0) {\n        return;\n      }\n      // 初始化动画参数\n      if (typeof props.marquee === 'boolean') {\n        state.scroll = { ...state.scroll, marquee: props.marquee };\n      }\n      const marquee = props.marquee as DrawMarquee;\n      state.scroll = {\n        marquee: true,\n        loop: typeof marquee?.loop === 'undefined' ? state.scroll.loop : marquee.loop,\n        speed: marquee.speed ?? state.scroll.speed,\n        delay: marquee.delay ?? state.scroll.delay,\n      };\n      // 设置动画\n      setTimeout(() => {\n        const listDOMWidth = listDOM.value?.getBoundingClientRect().width;\n        const itemDOMWidth = itemDOM.value?.getBoundingClientRect().width;\n        if (itemDOMWidth > listDOMWidth) {\n          state.offset = -itemDOMWidth;\n          state.duration = itemDOMWidth / state.scroll.speed;\n          state.listWidth = listDOMWidth;\n          state.itemWidth = itemDOMWidth;\n        }\n      }, state.scroll.delay);\n    }\n    // 动画结束后，初始化动画\n    function handleTransitionend() {\n      // 触发再次滚的\n      state.scroll.loop = --state.scroll.loop;\n      if (state.scroll.loop === 0) {\n        state.scroll = {\n          ...state.scroll,\n          marquee: false,\n        };\n        return;\n      }\n      state.offset = state.listWidth;\n      state.duration = 0;\n\n      setTimeout(() => {\n        state.offset = -state.itemWidth;\n        state.duration = (state.itemWidth + state.listWidth) / state.scroll.speed;\n      }, 0);\n    }\n    onMounted(() => {\n      nextTick(() => {\n        if (isShow.value) {\n          handleScrolling();\n        }\n      });\n    });\n    watch(\n      () => isShow.value,\n      () => {\n        emitEvent('change', isShow.value);\n        nextTick(() => {\n          if (isShow.value) {\n            state.offset = state.listWidth;\n            state.duration = 0;\n            handleScrolling();\n          }\n        });\n      },\n    );\n\n    return {\n      name,\n      ...toRefs(props),\n      ...toRefs(state),\n      rootClasses,\n      computedPrefixIcon,\n      computedSuffixIcon,\n      showExtraText,\n      showContent,\n      isShow,\n      handleClick,\n      listDOM,\n      itemDOM,\n      animateStyle,\n      handleScrolling,\n      handleTransitionend,\n    };\n  },\n});\n</script>\n","<template>\n  <div v-if=\"isShow\" :class=\"rootClasses\">\n    <div :class=\"`${name}__inner`\">\n      <div v-if=\"computedPrefixIcon\" :class=\"`${name}__hd`\" @click=\"() => handleClick('prefix-icon')\">\n        <t-node :content=\"computedPrefixIcon\"></t-node>\n      </div>\n\n      <div :class=\"`${name}__bd`\">\n        <div ref=\"listDOM\" :class=\"`${name}__list ${scroll.marquee ? `${name}__list--scrolling` : ''}`\">\n          <div\n            ref=\"itemDOM\"\n            :class=\"`${name}__item ${showExtraText ? `${name}__item-detail` : ''}`\"\n            :style=\"scroll.marquee ? animateStyle : ''\"\n            @transitionend=\"handleTransitionend()\"\n          >\n            <span :class=\"`${name}__text`\" @click=\"() => handleClick('content')\">\n              <t-node v-if=\"showContent\" :content=\"showContent\"></t-node>\n              {{ content }}\n              <span :class=\"`${name}__text-detail`\" @click.stop=\"() => handleClick('extra')\">\n                <t-node v-if=\"showExtraText\" :content=\"showExtraText\"></t-node>\n                {{ extra }}\n              </span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"computedSuffixIcon !== undefined\" :class=\"`${name}__ft`\" @click=\"() => handleClick('suffix-icon')\">\n        <t-node :content=\"computedSuffixIcon\"></t-node>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  reactive,\n  ref,\n  toRefs,\n  SetupContext,\n  computed,\n  onMounted,\n  nextTick,\n  defineComponent,\n  h,\n  getCurrentInstance,\n  watch,\n  watchEffect,\n} from 'vue';\nimport { InfoCircleFilledIcon, CheckCircleFilledIcon, CloseCircleFilledIcon } from 'tdesign-icons-vue-next';\nimport NoticeBarProps from './props';\nimport { NoticeBarTrigger, DrawMarquee } from './type';\n\nimport config from '../config';\nimport { useEmitEvent, renderTNode, TNode, useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-notice-bar`;\nconst iconDefault = {\n  info: h(InfoCircleFilledIcon),\n  success: h(CheckCircleFilledIcon),\n  warning: h(InfoCircleFilledIcon),\n  error: h(CloseCircleFilledIcon),\n};\nexport default defineComponent({\n  name,\n  components: { TNode },\n  props: NoticeBarProps,\n  emits: ['click', 'change'],\n  setup(props, context: SetupContext) {\n    const emitEvent = useEmitEvent(props, context.emit);\n    const internalInstance = getCurrentInstance();\n    // 初始化数据\n    const state = reactive({\n      duration: 0,\n      offset: 0,\n      listWidth: 0,\n      itemWidth: 0,\n      timer: null,\n      nextTimer: null,\n      scroll: {\n        marquee: false,\n        speed: 50,\n        loop: -1, // 值为 -1 表示循环播放，值为 0 表示不循环播放\n        delay: 0,\n      },\n    });\n\n    const rootClasses = computed(() => [`${name}`, `${name}--${props.theme}`]);\n\n    const computedPrefixIcon = ref();\n    watchEffect(() => {\n      if (!props.prefixIcon && !context.slots.prefixIcon) {\n        const key = props.theme as string;\n        computedPrefixIcon.value = iconDefault?.[key] || '';\n      } else {\n        computedPrefixIcon.value = renderTNode(internalInstance, 'prefixIcon');\n      }\n    });\n\n    // suffix-icon\n    const computedSuffixIcon = computed(() => renderTNode(internalInstance, 'suffixIcon'));\n    // extra\n    const showExtraText = computed(() => renderTNode(internalInstance, 'extra'));\n    const showContent = computed(() => renderTNode(internalInstance, 'content'));\n    // click\n    function handleClick(trigger: NoticeBarTrigger) {\n      emitEvent('click', trigger);\n    }\n    // 动画 i\n    const animateStyle = computed(() => ({\n      transform: state.offset ? `translateX(${state.offset}px)` : '',\n      transitionDuration: `${state.duration}s`,\n      transitionTimingFunction: 'linear',\n    }));\n\n    const listDOM = ref();\n    const itemDOM = ref();\n\n    const { visible, modelValue } = toRefs(props);\n    const [isShow, setStatusValue] = useVModel(\n      visible,\n      modelValue,\n      props.defaultVisible,\n      props.onChange as (value: boolean | undefined) => void,\n    );\n    function handleScrolling() {\n      if (!props?.marquee || (props?.marquee as DrawMarquee)?.loop === 0) {\n        return;\n      }\n      // 初始化动画参数\n      if (typeof props.marquee === 'boolean') {\n        state.scroll = { ...state.scroll, marquee: props.marquee };\n      }\n      const marquee = props.marquee as DrawMarquee;\n      state.scroll = {\n        marquee: true,\n        loop: typeof marquee?.loop === 'undefined' ? state.scroll.loop : marquee.loop,\n        speed: marquee.speed ?? state.scroll.speed,\n        delay: marquee.delay ?? state.scroll.delay,\n      };\n      // 设置动画\n      setTimeout(() => {\n        const listDOMWidth = listDOM.value?.getBoundingClientRect().width;\n        const itemDOMWidth = itemDOM.value?.getBoundingClientRect().width;\n        if (itemDOMWidth > listDOMWidth) {\n          state.offset = -itemDOMWidth;\n          state.duration = itemDOMWidth / state.scroll.speed;\n          state.listWidth = listDOMWidth;\n          state.itemWidth = itemDOMWidth;\n        }\n      }, state.scroll.delay);\n    }\n    // 动画结束后，初始化动画\n    function handleTransitionend() {\n      // 触发再次滚的\n      state.scroll.loop = --state.scroll.loop;\n      if (state.scroll.loop === 0) {\n        state.scroll = {\n          ...state.scroll,\n          marquee: false,\n        };\n        return;\n      }\n      state.offset = state.listWidth;\n      state.duration = 0;\n\n      setTimeout(() => {\n        state.offset = -state.itemWidth;\n        state.duration = (state.itemWidth + state.listWidth) / state.scroll.speed;\n      }, 0);\n    }\n    onMounted(() => {\n      nextTick(() => {\n        if (isShow.value) {\n          handleScrolling();\n        }\n      });\n    });\n    watch(\n      () => isShow.value,\n      () => {\n        emitEvent('change', isShow.value);\n        nextTick(() => {\n          if (isShow.value) {\n            state.offset = state.listWidth;\n            state.duration = 0;\n            handleScrolling();\n          }\n        });\n      },\n    );\n\n    return {\n      name,\n      ...toRefs(props),\n      ...toRefs(state),\n      rootClasses,\n      computedPrefixIcon,\n      computedSuffixIcon,\n      showExtraText,\n      showContent,\n      isShow,\n      handleClick,\n      listDOM,\n      itemDOM,\n      animateStyle,\n      handleScrolling,\n      handleTransitionend,\n    };\n  },\n});\n</script>\n"],"names":["prefix","config","name","iconDefault","info","h","InfoCircleFilledIcon","success","CheckCircleFilledIcon","warning","error","CloseCircleFilledIcon","defineComponent","components","TNode","props","NoticeBarProps","emits","setup","context","emitEvent","useEmitEvent","emit","internalInstance","getCurrentInstance","state","reactive","duration","offset","listWidth","itemWidth","timer","nextTimer","scroll","marquee","speed","loop","delay","rootClasses","computed","theme","computedPrefixIcon","ref","watchEffect","prefixIcon","slots","key","value","renderTNode","computedSuffixIcon","showExtraText","showContent","handleClick","trigger","animateStyle","transform","transitionDuration","transitionTimingFunction","listDOM","itemDOM","toRefs","visible","modelValue","useVModel","defaultVisible","onChange","_slicedToArray","isShow","handleScrolling","setTimeout","listDOMWidth","getBoundingClientRect","width","itemDOMWidth","handleTransitionend","onMounted","nextTick","watch","_ctx","_createElementBlock","class","_createElementVNode","onClick","_createVNode","_component_t_node","content","_normalizeClass","style","_normalizeStyle","onTransitionend","_createBlock","_toDisplayString","_createTextVNode"],"mappings":"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"}