/**
 * tdesign v0.12.1
 * (c) 2022 TDesign Group
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _classCallCheck = require('@babel/runtime/helpers/classCallCheck');
var _createClass = require('@babel/runtime/helpers/createClass');
var _defineProperty = require('@babel/runtime/helpers/defineProperty');
var vue = require('vue');
var shared_functions = require('../shared/functions.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var _classCallCheck__default = /*#__PURE__*/_interopDefaultLegacy(_classCallCheck);
var _createClass__default = /*#__PURE__*/_interopDefaultLegacy(_createClass);
var _defineProperty__default = /*#__PURE__*/_interopDefaultLegacy(_defineProperty);

var TransAniControl = /*#__PURE__*/function () {
  function TransAniControl() {
    _classCallCheck__default["default"](this, TransAniControl);
    _defineProperty__default["default"](this, "timeout", void 0);
    _defineProperty__default["default"](this, "finallyDo", void 0);
    this.timeout = null;
    this.finallyDo = shared_functions.NOOP;
  }
  _createClass__default["default"](TransAniControl, [{
    key: "setTo",
    value: function setTo(duration, nowDo, nextTickDo, finallyDo) {
      var _this = this;
      if (this.timeout) {
        window.clearTimeout(this.timeout);
        this.finallyDo();
      }
      nowDo();
      vue.nextTick(function () {
        return window.setTimeout(nextTickDo, 0);
      });
      this.finallyDo = finallyDo;
      this.timeout = window.setTimeout(function () {
        _this.finallyDo();
        _this.finallyDo = shared_functions.NOOP;
        _this.timeout = 0;
      }, duration);
    }
  }]);
  return TransAniControl;
}();

exports["default"] = TransAniControl;
//# sourceMappingURL=trans-ani-control.js.map
