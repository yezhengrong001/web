{"version":3,"file":"check-tag.js","sources":["../../src/tag/check-tag.vue","../../src/tag/check-tag.vue?vue&type=template&id=7aafb2e1&lang.js"],"sourcesContent":["<template>\n  <span :class=\"classes\" :aria-disabled=\"disabled\" role=\"button\" @click=\"handleClick\">\n    <span :class=\"`${baseClass}__icon`\">\n      <t-node :content=\"iconContent\"></t-node>\n    </span>\n    <span :class=\"`${baseClass}__text`\">\n      <t-node :content=\"tagContent\"></t-node>\n    </span>\n    <span v-if=\"closable && !disabled\" :class=\"`${baseClass}__icon-close`\" @click=\"onClickClose\">\n      <close-icon />\n    </span>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport { defineComponent, computed, toRefs, getCurrentInstance, SetupContext } from 'vue';\nimport config from '../config';\nimport CheckTagProps from './check-tag-props';\nimport { useEmitEvent, renderContent, renderTNode, TNode, useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-check-tag`;\n\nconst CheckTag = defineComponent({\n  name,\n  components: {\n    CloseIcon,\n    TNode,\n  },\n  props: CheckTagProps,\n  emits: ['change', 'click', 'update:checked', 'update:modelValue'],\n  setup(props, context: SetupContext) {\n    const emitEvent = useEmitEvent(props, context.emit);\n    const internalInstance = getCurrentInstance();\n    const tagContent = computed(() => renderContent(internalInstance, 'default', 'content'));\n    const iconContent = computed(() => renderTNode(internalInstance, 'icon'));\n    const baseClass = `${prefix}-tag`;\n\n    const { checked, modelValue } = toRefs(props);\n    const [innerChecked, setInnerChecked] = useVModel(\n      checked,\n      modelValue,\n      props.defaultChecked,\n      props.onChange,\n      'checked',\n    );\n\n    const classes = computed(() => [\n      `${baseClass}`,\n      `${baseClass}--checkable`,\n      `${baseClass}--shape-${props.shape}`,\n      `${baseClass}--size-${props.size}`,\n      {\n        [`${prefix}-is-closable ${baseClass}--closable`]: props.closable,\n        [`${prefix}-is-disabled ${baseClass}--disabled`]: props.disabled,\n        [`${prefix}-is-checked ${baseClass}--checked`]: !props.disabled && innerChecked.value,\n      },\n    ]);\n\n    const onClickClose = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        emitEvent('close', { e });\n      }\n    };\n\n    const handleClick = (e: MouseEvent) => {\n      if (!props.disabled) {\n        emitEvent('click', { e });\n        setInnerChecked(!innerChecked.value);\n      }\n    };\n\n    return {\n      baseClass,\n      classes,\n      onClickClose,\n      handleClick,\n      iconContent,\n      tagContent,\n      innerChecked,\n    };\n  },\n});\n\nexport default CheckTag;\n</script>\n","<template>\n  <span :class=\"classes\" :aria-disabled=\"disabled\" role=\"button\" @click=\"handleClick\">\n    <span :class=\"`${baseClass}__icon`\">\n      <t-node :content=\"iconContent\"></t-node>\n    </span>\n    <span :class=\"`${baseClass}__text`\">\n      <t-node :content=\"tagContent\"></t-node>\n    </span>\n    <span v-if=\"closable && !disabled\" :class=\"`${baseClass}__icon-close`\" @click=\"onClickClose\">\n      <close-icon />\n    </span>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport { defineComponent, computed, toRefs, getCurrentInstance, SetupContext } from 'vue';\nimport config from '../config';\nimport CheckTagProps from './check-tag-props';\nimport { useEmitEvent, renderContent, renderTNode, TNode, useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-check-tag`;\n\nconst CheckTag = defineComponent({\n  name,\n  components: {\n    CloseIcon,\n    TNode,\n  },\n  props: CheckTagProps,\n  emits: ['change', 'click', 'update:checked', 'update:modelValue'],\n  setup(props, context: SetupContext) {\n    const emitEvent = useEmitEvent(props, context.emit);\n    const internalInstance = getCurrentInstance();\n    const tagContent = computed(() => renderContent(internalInstance, 'default', 'content'));\n    const iconContent = computed(() => renderTNode(internalInstance, 'icon'));\n    const baseClass = `${prefix}-tag`;\n\n    const { checked, modelValue } = toRefs(props);\n    const [innerChecked, setInnerChecked] = useVModel(\n      checked,\n      modelValue,\n      props.defaultChecked,\n      props.onChange,\n      'checked',\n    );\n\n    const classes = computed(() => [\n      `${baseClass}`,\n      `${baseClass}--checkable`,\n      `${baseClass}--shape-${props.shape}`,\n      `${baseClass}--size-${props.size}`,\n      {\n        [`${prefix}-is-closable ${baseClass}--closable`]: props.closable,\n        [`${prefix}-is-disabled ${baseClass}--disabled`]: props.disabled,\n        [`${prefix}-is-checked ${baseClass}--checked`]: !props.disabled && innerChecked.value,\n      },\n    ]);\n\n    const onClickClose = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        emitEvent('close', { e });\n      }\n    };\n\n    const handleClick = (e: MouseEvent) => {\n      if (!props.disabled) {\n        emitEvent('click', { e });\n        setInnerChecked(!innerChecked.value);\n      }\n    };\n\n    return {\n      baseClass,\n      classes,\n      onClickClose,\n      handleClick,\n      iconContent,\n      tagContent,\n      innerChecked,\n    };\n  },\n});\n\nexport default CheckTag;\n</script>\n"],"names":["prefix","config","name","CheckTag","defineComponent","components","CloseIcon","TNode","props","CheckTagProps","emits","setup","context","emitEvent","useEmitEvent","emit","internalInstance","getCurrentInstance","tagContent","computed","renderContent","iconContent","renderTNode","baseClass","toRefs","checked","modelValue","useVModel","defaultChecked","onChange","_slicedToArray","innerChecked","setInnerChecked","classes","shape","size","closable","_defineProperty","disabled","value","onClickClose","e","handleClick","_createElementBlock","class","_ctx","role","onClick","_createElementVNode","_createVNode","_component_t_node","content","_component_close_icon"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,IAAQA,SAAWC,iBAAA,CAAXD;AACR,IAAME,OAAUF,EAAAA,CAAAA,MAAAA,CAAAA,MAAA,EAAA,YAAA,CAAA,CAAA;AAEVG,IAAAA,WAAWC,mBAAgB,CAAA;AAC/BF,EAAAA,IAAA,EAAAA,IAAA;AACAG,EAAAA,UAAY,EAAA;AACVC,IAAAA,SAAA,EAAAA,6BAAA;AACAC,IAAAA,KAAA,EAAAA,6BAAAA;GACF;AACAC,EAAAA,KAAO,EAAAC,4BAAA;EACPC,KAAO,EAAA,CAAC,QAAU,EAAA,OAAA,EAAS,kBAAkB,mBAAmB,CAAA;AAChEC,EAAAA,KAAA,EAAMH,SAAAA,KAAAA,CAAAA,OAAOI,OAAuB,EAAA;IAClC,IAAMC,SAAY,GAAAC,sCAAA,CAAaN,KAAO,EAAAI,OAAA,CAAQG,IAAI,CAAA,CAAA;IAClD,IAAMC,mBAAmBC,sBAAmB,EAAA,CAAA;IAC5C,IAAMC,aAAaC,YAAS,CAAA,YAAA;AAAA,MAAA,OAAMC,4BAAcJ,gBAAkB,EAAA,SAAA,EAAW,SAAS,CAAC,CAAA;KAAA,CAAA,CAAA;IACvF,IAAMK,cAAcF,YAAS,CAAA,YAAA;AAAA,MAAA,OAAMG,yBAAY,CAAAN,gBAAA,EAAkB,MAAM,CAAC,CAAA;KAAA,CAAA,CAAA;IACxE,IAAMO,YAAevB,EAAAA,CAAAA,MAAAA,CAAAA,MAAA,EAAA,MAAA,CAAA,CAAA;IAErB,IAAgCwB,OAAAA,GAAAA,WAAOhB,KAAK,CAAA;AAApCiB,MAAAA,OAAA,WAAAA,OAAA;AAASC,MAAAA,UAAW,WAAXA,UAAW,CAAA;AACtB,IAAA,IAAA,UAAA,GAAkCC,gCAAA,CACtCF,OAAA,EACAC,UAAA,EACAlB,KAAM,CAAAoB,cAAA,EACNpB,KAAM,CAAAqB,QAAA,EACN,SAAA,CACF;AAAA,MAAA,WAAA,GAAAC,kCAAA,CAAA,UAAA,EAAA,CAAA,CAAA;MANOC,YAAc,GAAA,WAAA,CAAA,CAAA,CAAA;MAAAC,eAAe,GAAA,WAAA,CAAA,CAAA,CAAA,CAAA;IAQ9B,IAAAC,OAAA,GAAUd,aAAS,YAAA;AAAA,MAAA,IAAA,IAAA,CAAA;MAAA,OAAM,CAAA,EAAA,CAAA,MAAA,CAC1BI,SAAA,CACAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,SAAA,4BACAA,8BAAoBf,KAAM,CAAA0B,KAAA,aAC1BX,6BAAmBf,KAAM,CAAA2B,IAAA,mEAEtBnC,MAAsB,EAAA,eAAA,CAAA,CAAA,MAAA,CAAAuB,SAAA,EAAwBf,YAAAA,CAAAA,EAAAA,KAAM,CAAA4B,QAAA,CAAA,EAAAC,mCAAA,CAAA,IAAA,EAAA,EAAA,CAAA,MAAA,CACpDrC,MAAsB,EAAAuB,eAAAA,CAAAA,CAAAA,MAAAA,CAAAA,SAAA,iBAAwBf,KAAM,CAAA8B,QAAA,CACpDtC,EAAAA,mCAAAA,CAAAA,IAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,MAAA,yBAAqBuB,yBAAuB,CAACf,KAAA,CAAM8B,YAAYP,YAAa,CAAAQ,KAAA,CAEnF,EAAA,IAAA,EAAA,CAAA;KAAA,CAAA,CAAA;AAEK,IAAA,IAAAC,YAAA,GAAe,SAAfA,YAAA,CAAgBC,CAAwB,EAAA;AACxC,MAAA,IAAA,CAACjC,MAAM8B,QAAU,EAAA;QACTzB,SAAA,CAAA,OAAA,EAAS;AAAE4B,UAAAA,CAAA,EAAAA,CAAAA;AAAE,SAAC,CAAA,CAAA;AAC1B,OAAA;KACF,CAAA;AAEM,IAAA,IAAAC,WAAA,GAAc,SAAdA,WAAA,CAAeD,CAAkB,EAAA;AACjC,MAAA,IAAA,CAACjC,MAAM8B,QAAU,EAAA;QACTzB,SAAA,CAAA,OAAA,EAAS;AAAE4B,UAAAA,CAAA,EAAAA,CAAAA;AAAE,SAAC,CAAA,CAAA;AACRT,QAAAA,eAAA,CAAA,CAACD,aAAaQ,KAAK,CAAA,CAAA;AACrC,OAAA;KACF,CAAA;IAEO,OAAA;AACLhB,MAAAA,SAAA,EAAAA,SAAA;AACAU,MAAAA,OAAA,EAAAA,OAAA;AACAO,MAAAA,YAAA,EAAAA,YAAA;AACAE,MAAAA,WAAA,EAAAA,WAAA;AACArB,MAAAA,WAAA,EAAAA,WAAA;AACAH,MAAAA,UAAA,EAAAA,UAAA;AACAa,MAAAA,YAAA,EAAAA,YAAAA;KACF,CAAA;AACF,GAAA;AACF,CAAC;;;;;;wBClFC,EAAAY,sBAAA,CAUM,MAAA,EAAA;AAVCC,IAAAA,KAAA,oBAAO,CAAAC,IAAA,CAAOZ,OAAA,CAAA;IAAG,iBAAeY,IAAQ,CAAAP,QAAA;AAAEQ,IAAAA,IAAK,EAAA,QAAA;IAAUC;aAAOF,IAAA,CAAWH,WAAA,IAAAG,IAAA,CAAAH,WAAA,CAAAG,KAAAA,CAAAA,IAAA,EAAA,SAAA,CAAA,CAAA;AAAA,KAAA,CAAA;MAChFG,uBAEM,MAAA,EAAA;AAFCJ,IAAAA,0BAAUC,EAAAA,CAAAA,MAAAA,CAAAA,IAAA,CAAStB,SAAA,EAAA,QAAA,CAAA,CAAA;MACxB0B,eAAA,CAAuCC,iBAAA,EAAA;IAA9BC,OAAS,EAAAN,IAAA,CAAWxB,WAAAA;AAAA,GAAA,EAAA,IAAA,EAAA,CAAA,EAAA,CAAA,SAAA,CAAA,CAAA,OAE/B2B,uBAEM,MAAA,EAAA;AAFCJ,IAAAA,0BAAUC,EAAAA,CAAAA,MAAAA,CAAAA,IAAA,CAAStB,SAAA,EAAA,QAAA,CAAA,CAAA;MACxB0B,eAAA,CAAsCC,iBAAA,EAAA;IAA7BC,OAAS,EAAAN,IAAA,CAAU3B,UAAAA;AAAA,GAAA,EAAA,IAAA,EAAA,CAAA,EAAA,CAAA,SAAA,CAAA,CAAA,OAElB2B,IAAA,CAAAT,aAAaS,IAAA,CAAQP,6BAAjCK,uBAEM,MAAA,EAAA;;AAF8BC,IAAAA,oCAAUC,IAAA,CAAStB,SAAA,EAAA,cAAA,CAAA,CAAA;IAAiBwB;aAAOF,IAAA,CAAYL,YAAA,IAAAK,IAAA,CAAAL,YAAA,CAAAK,KAAAA,CAAAA,IAAA,EAAA,SAAA,CAAA,CAAA;AAAA,KAAA,CAAA;MACzFI,gBAAaG,qBAAA,CAAA;;;;;;;"}