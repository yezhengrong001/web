{"version":3,"file":"indexes-anchor.js","sources":["../../src/indexes/indexes-anchor.vue","../../src/indexes/indexes-anchor.vue?vue&type=template&id=4103f88f&lang.js"],"sourcesContent":["<template>\n  <div ref=\"boxRef\" :class=\"boxClasses\" :style=\"boxStyles\">\n    <div ref=\"contentRef\" class=\"t-indexes__anchor\" :style=\"anchorStyle\">\n      <t-node :content=\"stickyContent\"></t-node>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, getCurrentInstance, defineComponent } from 'vue';\nimport { useElementBounding, templateRef } from '@vueuse/core';\nimport config from '../config';\nimport { renderContent, TNode } from '../shared';\n\nconst name = `${config.prefix}-indexes-anchor`;\n\nexport default defineComponent({\n  name,\n  components: { TNode },\n  props: {\n    anchorStyle: {\n      type: String,\n      default: '',\n    },\n  },\n  setup(props, context) {\n    const boxClasses = name;\n    const stickyContent = computed(() => renderContent(getCurrentInstance(), 'default', ''));\n\n    // box 用于占位和记录边界\n    // content 用于实际定位\n    const boxRef = templateRef('boxRef');\n    const contentRef = templateRef('contentRef');\n    const { height } = useElementBounding(contentRef);\n\n    const boxStyles = computed(() => `height:${height.value}px;`);\n\n    return {\n      boxClasses,\n      boxStyles,\n      stickyContent,\n    };\n  },\n});\n</script>\n","<template>\n  <div ref=\"boxRef\" :class=\"boxClasses\" :style=\"boxStyles\">\n    <div ref=\"contentRef\" class=\"t-indexes__anchor\" :style=\"anchorStyle\">\n      <t-node :content=\"stickyContent\"></t-node>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, getCurrentInstance, defineComponent } from 'vue';\nimport { useElementBounding, templateRef } from '@vueuse/core';\nimport config from '../config';\nimport { renderContent, TNode } from '../shared';\n\nconst name = `${config.prefix}-indexes-anchor`;\n\nexport default defineComponent({\n  name,\n  components: { TNode },\n  props: {\n    anchorStyle: {\n      type: String,\n      default: '',\n    },\n  },\n  setup(props, context) {\n    const boxClasses = name;\n    const stickyContent = computed(() => renderContent(getCurrentInstance(), 'default', ''));\n\n    // box 用于占位和记录边界\n    // content 用于实际定位\n    const boxRef = templateRef('boxRef');\n    const contentRef = templateRef('contentRef');\n    const { height } = useElementBounding(contentRef);\n\n    const boxStyles = computed(() => `height:${height.value}px;`);\n\n    return {\n      boxClasses,\n      boxStyles,\n      stickyContent,\n    };\n  },\n});\n</script>\n"],"names":["name","config","prefix","defineComponent","components","TNode","props","anchorStyle","type","String","default","setup","context","boxClasses","stickyContent","computed","renderContent","getCurrentInstance","boxRef","templateRef","contentRef","useElementBounding","height","boxStyles","value","_createElementBlock","ref","class","_ctx","style","_createElementVNode","_createVNode","_component_t_node","content"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAMA,IAAA,GAAA,EAAA,CAAA,MAAA,CAAUC,MAAO,CAAAC,MAAA,EAAA,iBAAA,CAAA,CAAA;AAEvB,aAAeC,eAAgB,CAAA;AAC7BH,EAAAA,IAAA,EAAAA,IAAA;AACAI,EAAAA,UAAA,EAAY;AAAEC,IAAAA,KAAM,EAANA,cAAAA;GAAM;AACpBC,EAAAA,KAAO,EAAA;AACLC,IAAAA,WAAa,EAAA;AACXC,MAAAA,IAAM,EAAAC,MAAA;AACNC,MAAAA,OAAS,EAAA,EAAA;AACX,KAAA;GACF;AACAC,EAAAA,KAAA,EAAML,SAAAA,KAAAA,CAAAA,OAAOM,OAAS,EAAA;IACpB,IAAMC,UAAa,GAAAb,IAAA,CAAA;IACb,IAAAc,aAAA,GAAgBC,SAAS,YAAA;MAAA,OAAMC,aAAA,CAAcC,oBAAsB,EAAA,SAAA,EAAW,EAAE,CAAC,CAAA;KAAA,CAAA,CAAA;AAIjF,IAAA,IAAAC,MAAA,GAASC,YAAY,QAAQ,CAAA,CAAA;AAC7B,IAAA,IAAAC,UAAA,GAAaD,YAAY,YAAY,CAAA,CAAA;IAC3C,IAAmBE,mBAAAA,GAAAA,kBAAA,CAAmBD,UAAU,CAAA;AAAxCE,MAAAA,MAAA,uBAAAA,MAAA,CAAA;IAER,IAAMC,SAAY,GAAAR,QAAA,CAAS,YAAA;MAAA,OAAgBO,SAAAA,CAAAA,MAAAA,CAAAA,OAAOE,KAAU,EAAA,KAAA,CAAA,CAAA;AAAA,KAAA,CAAA,CAAA;IAErD,OAAA;AACLX,MAAAA,UAAA,EAAAA,UAAA;AACAU,MAAAA,SAAA,EAAAA,SAAA;AACAT,MAAAA,aAAA,EAAAA,aAAAA;KACF,CAAA;AACF,GAAA;AACF,CAAC,CAAA;;;;oBC1CC,EAAAW,kBAAA,CAIK,KAAA,EAAA;AAJAC,IAAAA,GAAI,EAAA,QAAA;AAAUC,IAAAA,KAAA,gBAAO,CAAAC,IAAA,CAAUf,UAAA,CAAA;AAAGgB,IAAAA,KAAA,gBAAO,CAAAD,IAAA,CAASL,SAAA,CAAA;MACrDO,mBAEK,KAAA,EAAA;AAFAJ,IAAAA,GAAI,EAAA,YAAA;AAAaC,IAAAA,KAAM,EAAA,mBAAA;AAAqBE,IAAAA,KAAA,gBAAO,CAAAD,IAAA,CAAWrB,WAAA,CAAA;MACjEwB,WAAA,CAAyCC,iBAAA,EAAA;IAAhCC,OAAS,EAAAL,IAAA,CAAad,aAAAA;AAAA,GAAA,EAAA,IAAA,EAAA,CAAA,EAAA,CAAA,SAAA,CAAA,CAAA;;;;;;;"}