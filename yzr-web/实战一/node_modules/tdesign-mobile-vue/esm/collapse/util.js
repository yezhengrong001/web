/**
 * tdesign v0.12.1
 * (c) 2022 TDesign Group
 * @license MIT
 */

import _typeof from '@babel/runtime/helpers/typeof';

function findIndex(v, set) {
  var reg = new RegExp("^".concat(!v && v !== 0 ? "" : v, "$"));
  var arr = toArray(set);
  return arr.findIndex(function (s) {
    return reg.test(s);
  });
}
function isFalsy(v) {
  return !v && v !== 0;
}
function toArray(v) {
  if (isFalsy(v)) return [];
  if (_typeof(v) === "object") return Array.from(v);
  return [v];
}
function toggleElem(v, set, multiple) {
  var atLeastOne = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var toReturnArray = !!multiple || !!set && _typeof(set) === "object";
  var returnFn = function returnFn(v2) {
    return !toReturnArray ? v2[0] : v2;
  };
  var arr = toArray(set);
  var arrLen = arr.length;
  var i = findIndex(v, arr);
  if (i > -1) {
    if (arrLen < 2 && atLeastOne) {
      return returnFn(arr);
    }
    arr.splice(i, 1);
    return returnFn(arr);
  }
  if (!multiple && arrLen > 0) {
    return returnFn([v]);
  }
  arr.push(v);
  return returnFn(arr);
}

export { findIndex, isFalsy, toArray, toggleElem };
//# sourceMappingURL=util.js.map
