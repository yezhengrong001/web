/**
 * tdesign v0.12.1
 * (c) 2022 TDesign Group
 * @license MIT
 */

import _classCallCheck from '@babel/runtime/helpers/classCallCheck';
import _createClass from '@babel/runtime/helpers/createClass';
import _defineProperty from '@babel/runtime/helpers/defineProperty';
import { nextTick } from 'vue';
import { NOOP } from '../shared/functions.js';

var TransAniControl = /*#__PURE__*/function () {
  function TransAniControl() {
    _classCallCheck(this, TransAniControl);
    _defineProperty(this, "timeout", void 0);
    _defineProperty(this, "finallyDo", void 0);
    this.timeout = null;
    this.finallyDo = NOOP;
  }
  _createClass(TransAniControl, [{
    key: "setTo",
    value: function setTo(duration, nowDo, nextTickDo, finallyDo) {
      var _this = this;
      if (this.timeout) {
        window.clearTimeout(this.timeout);
        this.finallyDo();
      }
      nowDo();
      nextTick(function () {
        return window.setTimeout(nextTickDo, 0);
      });
      this.finallyDo = finallyDo;
      this.timeout = window.setTimeout(function () {
        _this.finallyDo();
        _this.finallyDo = NOOP;
        _this.timeout = 0;
      }, duration);
    }
  }]);
  return TransAniControl;
}();

export { TransAniControl as default };
//# sourceMappingURL=trans-ani-control.js.map
