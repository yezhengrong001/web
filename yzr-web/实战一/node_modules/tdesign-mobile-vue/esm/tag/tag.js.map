{"version":3,"file":"tag.js","sources":["../../src/tag/tag.vue","../../src/tag/tag.vue?vue&type=template&id=4fbd845a&lang.js"],"sourcesContent":["<template>\n  <span :class=\"classes\" :style=\"tagStyle\" :aria-disabled=\"disabled\" role=\"button\" @click=\"handleClick\">\n    <span :class=\"`${baseClass}__icon`\">\n      <t-node :content=\"iconContent\"></t-node>\n    </span>\n    <span :class=\"`${baseClass}__text`\">\n      <t-node :content=\"tagContent\"></t-node>\n    </span>\n    <span v-if=\"closable && !disabled\" :class=\"`${baseClass}__icon-close`\" @click=\"onClickClose\">\n      <close-icon />\n    </span>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport { defineComponent, computed, getCurrentInstance, SetupContext } from 'vue';\nimport config from '../config';\nimport TagProps from './props';\nimport { useEmitEvent, renderContent, renderTNode, TNode } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-tag`;\n\nconst Tag = defineComponent({\n  name,\n  components: {\n    CloseIcon,\n    TNode,\n  },\n  props: TagProps,\n  emits: ['close', 'click'],\n  setup(props, context: SetupContext) {\n    const emitEvent = useEmitEvent(props, context.emit);\n    const internalInstance = getCurrentInstance();\n    const tagContent = computed(() => renderContent(internalInstance, 'default', 'content'));\n    const iconContent = computed(() => renderTNode(internalInstance, 'icon'));\n    const baseClass = name;\n\n    const tagStyle = computed(() => {\n      return props.maxWidth\n        ? { maxWidth: typeof props.maxWidth === 'number' ? `${props.maxWidth}px` : props.maxWidth }\n        : {};\n    });\n\n    const classes = computed(() => [\n      `${baseClass}`,\n      `${baseClass}--theme-${props.theme}`,\n      `${baseClass}--shape-${props.shape}`,\n      `${baseClass}--variant-${props.variant}`,\n      `${baseClass}--size-${props.size}`,\n      {\n        [`${prefix}-is-closable ${baseClass}--closable`]: props.closable,\n        [`${prefix}-is-disabled ${baseClass}--disabled`]: props.disabled,\n      },\n    ]);\n\n    const onClickClose = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        emitEvent('close', { e });\n      }\n    };\n\n    const handleClick = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        emitEvent('click', { e });\n      }\n    };\n\n    return {\n      baseClass,\n      classes,\n      tagStyle,\n      onClickClose,\n      handleClick,\n      iconContent,\n      tagContent,\n    };\n  },\n});\n\nexport default Tag;\n</script>\n","<template>\n  <span :class=\"classes\" :style=\"tagStyle\" :aria-disabled=\"disabled\" role=\"button\" @click=\"handleClick\">\n    <span :class=\"`${baseClass}__icon`\">\n      <t-node :content=\"iconContent\"></t-node>\n    </span>\n    <span :class=\"`${baseClass}__text`\">\n      <t-node :content=\"tagContent\"></t-node>\n    </span>\n    <span v-if=\"closable && !disabled\" :class=\"`${baseClass}__icon-close`\" @click=\"onClickClose\">\n      <close-icon />\n    </span>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport { defineComponent, computed, getCurrentInstance, SetupContext } from 'vue';\nimport config from '../config';\nimport TagProps from './props';\nimport { useEmitEvent, renderContent, renderTNode, TNode } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-tag`;\n\nconst Tag = defineComponent({\n  name,\n  components: {\n    CloseIcon,\n    TNode,\n  },\n  props: TagProps,\n  emits: ['close', 'click'],\n  setup(props, context: SetupContext) {\n    const emitEvent = useEmitEvent(props, context.emit);\n    const internalInstance = getCurrentInstance();\n    const tagContent = computed(() => renderContent(internalInstance, 'default', 'content'));\n    const iconContent = computed(() => renderTNode(internalInstance, 'icon'));\n    const baseClass = name;\n\n    const tagStyle = computed(() => {\n      return props.maxWidth\n        ? { maxWidth: typeof props.maxWidth === 'number' ? `${props.maxWidth}px` : props.maxWidth }\n        : {};\n    });\n\n    const classes = computed(() => [\n      `${baseClass}`,\n      `${baseClass}--theme-${props.theme}`,\n      `${baseClass}--shape-${props.shape}`,\n      `${baseClass}--variant-${props.variant}`,\n      `${baseClass}--size-${props.size}`,\n      {\n        [`${prefix}-is-closable ${baseClass}--closable`]: props.closable,\n        [`${prefix}-is-disabled ${baseClass}--disabled`]: props.disabled,\n      },\n    ]);\n\n    const onClickClose = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        emitEvent('close', { e });\n      }\n    };\n\n    const handleClick = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        emitEvent('click', { e });\n      }\n    };\n\n    return {\n      baseClass,\n      classes,\n      tagStyle,\n      onClickClose,\n      handleClick,\n      iconContent,\n      tagContent,\n    };\n  },\n});\n\nexport default Tag;\n</script>\n"],"names":["prefix","config","name","Tag","defineComponent","components","CloseIcon","TNode","props","TagProps","emits","setup","context","emitEvent","useEmitEvent","emit","internalInstance","getCurrentInstance","tagContent","computed","renderContent","iconContent","renderTNode","baseClass","tagStyle","maxWidth","classes","theme","shape","variant","size","closable","disabled","onClickClose","e","handleClick","_createElementBlock","class","_ctx","style","role","onClick","_createElementVNode","_createVNode","_component_t_node","content","_component_close_icon"],"mappings":"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"}