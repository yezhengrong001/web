{"version":3,"file":"check-tag.js","sources":["../../src/tag/check-tag.vue","../../src/tag/check-tag.vue?vue&type=template&id=7aafb2e1&lang.js"],"sourcesContent":["<template>\n  <span :class=\"classes\" :aria-disabled=\"disabled\" role=\"button\" @click=\"handleClick\">\n    <span :class=\"`${baseClass}__icon`\">\n      <t-node :content=\"iconContent\"></t-node>\n    </span>\n    <span :class=\"`${baseClass}__text`\">\n      <t-node :content=\"tagContent\"></t-node>\n    </span>\n    <span v-if=\"closable && !disabled\" :class=\"`${baseClass}__icon-close`\" @click=\"onClickClose\">\n      <close-icon />\n    </span>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport { defineComponent, computed, toRefs, getCurrentInstance, SetupContext } from 'vue';\nimport config from '../config';\nimport CheckTagProps from './check-tag-props';\nimport { useEmitEvent, renderContent, renderTNode, TNode, useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-check-tag`;\n\nconst CheckTag = defineComponent({\n  name,\n  components: {\n    CloseIcon,\n    TNode,\n  },\n  props: CheckTagProps,\n  emits: ['change', 'click', 'update:checked', 'update:modelValue'],\n  setup(props, context: SetupContext) {\n    const emitEvent = useEmitEvent(props, context.emit);\n    const internalInstance = getCurrentInstance();\n    const tagContent = computed(() => renderContent(internalInstance, 'default', 'content'));\n    const iconContent = computed(() => renderTNode(internalInstance, 'icon'));\n    const baseClass = `${prefix}-tag`;\n\n    const { checked, modelValue } = toRefs(props);\n    const [innerChecked, setInnerChecked] = useVModel(\n      checked,\n      modelValue,\n      props.defaultChecked,\n      props.onChange,\n      'checked',\n    );\n\n    const classes = computed(() => [\n      `${baseClass}`,\n      `${baseClass}--checkable`,\n      `${baseClass}--shape-${props.shape}`,\n      `${baseClass}--size-${props.size}`,\n      {\n        [`${prefix}-is-closable ${baseClass}--closable`]: props.closable,\n        [`${prefix}-is-disabled ${baseClass}--disabled`]: props.disabled,\n        [`${prefix}-is-checked ${baseClass}--checked`]: !props.disabled && innerChecked.value,\n      },\n    ]);\n\n    const onClickClose = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        emitEvent('close', { e });\n      }\n    };\n\n    const handleClick = (e: MouseEvent) => {\n      if (!props.disabled) {\n        emitEvent('click', { e });\n        setInnerChecked(!innerChecked.value);\n      }\n    };\n\n    return {\n      baseClass,\n      classes,\n      onClickClose,\n      handleClick,\n      iconContent,\n      tagContent,\n      innerChecked,\n    };\n  },\n});\n\nexport default CheckTag;\n</script>\n","<template>\n  <span :class=\"classes\" :aria-disabled=\"disabled\" role=\"button\" @click=\"handleClick\">\n    <span :class=\"`${baseClass}__icon`\">\n      <t-node :content=\"iconContent\"></t-node>\n    </span>\n    <span :class=\"`${baseClass}__text`\">\n      <t-node :content=\"tagContent\"></t-node>\n    </span>\n    <span v-if=\"closable && !disabled\" :class=\"`${baseClass}__icon-close`\" @click=\"onClickClose\">\n      <close-icon />\n    </span>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport { defineComponent, computed, toRefs, getCurrentInstance, SetupContext } from 'vue';\nimport config from '../config';\nimport CheckTagProps from './check-tag-props';\nimport { useEmitEvent, renderContent, renderTNode, TNode, useVModel } from '../shared';\n\nconst { prefix } = config;\nconst name = `${prefix}-check-tag`;\n\nconst CheckTag = defineComponent({\n  name,\n  components: {\n    CloseIcon,\n    TNode,\n  },\n  props: CheckTagProps,\n  emits: ['change', 'click', 'update:checked', 'update:modelValue'],\n  setup(props, context: SetupContext) {\n    const emitEvent = useEmitEvent(props, context.emit);\n    const internalInstance = getCurrentInstance();\n    const tagContent = computed(() => renderContent(internalInstance, 'default', 'content'));\n    const iconContent = computed(() => renderTNode(internalInstance, 'icon'));\n    const baseClass = `${prefix}-tag`;\n\n    const { checked, modelValue } = toRefs(props);\n    const [innerChecked, setInnerChecked] = useVModel(\n      checked,\n      modelValue,\n      props.defaultChecked,\n      props.onChange,\n      'checked',\n    );\n\n    const classes = computed(() => [\n      `${baseClass}`,\n      `${baseClass}--checkable`,\n      `${baseClass}--shape-${props.shape}`,\n      `${baseClass}--size-${props.size}`,\n      {\n        [`${prefix}-is-closable ${baseClass}--closable`]: props.closable,\n        [`${prefix}-is-disabled ${baseClass}--disabled`]: props.disabled,\n        [`${prefix}-is-checked ${baseClass}--checked`]: !props.disabled && innerChecked.value,\n      },\n    ]);\n\n    const onClickClose = (e: MouseEvent): void => {\n      if (!props.disabled) {\n        emitEvent('close', { e });\n      }\n    };\n\n    const handleClick = (e: MouseEvent) => {\n      if (!props.disabled) {\n        emitEvent('click', { e });\n        setInnerChecked(!innerChecked.value);\n      }\n    };\n\n    return {\n      baseClass,\n      classes,\n      onClickClose,\n      handleClick,\n      iconContent,\n      tagContent,\n      innerChecked,\n    };\n  },\n});\n\nexport default CheckTag;\n</script>\n"],"names":["prefix","config","name","CheckTag","defineComponent","components","CloseIcon","TNode","props","CheckTagProps","emits","setup","context","emitEvent","useEmitEvent","emit","internalInstance","getCurrentInstance","tagContent","computed","renderContent","iconContent","renderTNode","baseClass","toRefs","checked","modelValue","useVModel","defaultChecked","onChange","innerChecked","setInnerChecked","classes","shape","size","closable","disabled","value","onClickClose","e","handleClick","_createElementBlock","class","_ctx","role","onClick","_createElementVNode","_createVNode","_component_t_node","content","_component_close_icon"],"mappings":"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"}